<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <title>Boids</title>
    <link rel="stylesheet" href="assets/css/styles.css">
    <link rel="stylesheet" href="assets/css/styles-boids-sim.css">
  </head>
  <body>
    <div class="container">
      <main>
	<h1>Boids: Emergent flocking behavior</h1>
	<canvas id="canvas"></canvas>
	
	<div id="classic-forces-container">
	  <h2>Classic Steering Forces</h2>
	  <p class="slider-annotation">Left sliders = Range | Right sliders = Force</p>
	  
	  <h3>Align</h3>
	  <input type="range" min="1" max="20" value="10" id="alignRangeSlider" class="rangeSlider">
	  <input type="range" min="1" max="20" value="5" id="alignForceSlider" class="forceSlider">

	  <h3>Separate</h3>
	  <input type="range" min="1" max="20" value="10" id="separateRangeSlider" class="rangeSlider">
	  <input type="range" min="1" max="20" value="5" id="separateForceSlider" class="forceSlider">

	  <h3>Cohere</h3>
	  <input type="range" min="1" max="20" value="10" id="cohereRangeSlider" class="rangeSlider">
	  <input type="range" min="1" max="20" value="5" id="cohereForceSlider" class="forceSlider">
	</div>

	<div id="predator-forces-container">
	  <h2>Predator Interactions</h2>
	  <p class="slider-annotation">Left sliders = Range | Right sliders = Force</p>
	  
	  <h3>Boid predator avoidance</h3>
	  <input type="range" min="1" max="20" value="10" id="predatorAvoidanceRangeSlider" class="rangeSlider">
	  <input type="range" min="1" max="20" value="8" id="predatorAvoidanceForceSlider" class="forceSlider">

	  <h3>Predator range & population</h3>
	  <input type="range" min="1" max="20" value="8" id="predatorPerceptionRangeSlider" class="rangeSlider">
	  <input type="range" min="0" max="8" value="1" id="predatorCountSlider" class="predatorCountSlider">
	</div>

      </main>
    </div>
    <script src="assets/js/boids.js"></script>

    <script>
      // Toggle sliders based on scroll position relative to canvas
      window.onscroll = function(){
	  let target = window.scrollY + document.querySelector('canvas').getBoundingClientRect().bottom - 200

	  if(window.scrollY >= target) {
	      document.getElementById('classic-forces-container').style.display = 'none';
	      document.getElementById('predator-forces-container').style.display = 'none';
	  }
	  if(window.scrollY <= target) {
	      document.getElementById('classic-forces-container').style.display = 'block';
	      document.getElementById('predator-forces-container').style.display = 'block';
	  }
      };
    </script>
  </body>
</html>
